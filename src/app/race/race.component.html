<div class="page">
    <div class="page-header">
        <app-nav-bar>
            <button class="silent" [ngClass]="{checked: isHorn()}" (click)="horn()"><img src="assets/icons/horn.png"></button>
            <button [disabled]="!isDriving()" (click)="reset()"><img src="assets/icons/traffic_lights_red.png"></button>
        </app-nav-bar>
    </div>
    <div class="page-content">
        <button *ngIf="!hasMaxAcceleration()" (click)="calcMaxAcceleration()"><img src="assets/icons/dice.png"></button>
        <table *ngIf="hasMaxAcceleration()">
            <tr>
                <td>
                    <label><img src="assets/icons/arrow_turn_right.png">Kurve</label>
                </td>
                <td colspan="2">
                    <button (click)="selectCurve()"><span *ngIf="currentCurve !== undefined">{{currentCurve}}</span><img *ngIf="currentCurve === undefined" src="assets/icons/arrow_up.png"></button>
                </td>
            </tr>
            <tr>
                <td>
                    <label><img src="assets/icons/dashboard.png">Max. Geschw.</label>
                </td>
                <td>
                    <b>{{maxSpeedInCurve}}</b>
                </td>
                <td>
                    <button *ngIf="canArmCurvesJoker()" class="silent" [ngClass]="{checked: isCurvesJokerArmed()}" (click)="armCurvesJoker()"><img src="assets/icons/dynamite.png"></button>
                    <span *ngIf="curvesJokerNoFx"><img src="assets/icons/snail.png"></span>
                    <span *ngIf="curvesJokerFailure"><img src="assets/icons/caution_high_voltage.png"></span>
                </td>
            </tr>
            <tr>
                <td>
                    <label><img src="assets/icons/dashboard.png">Geschw. wählen</label>
                </td>
                <td>
                    <div class="btn-group">
                        <button *ngFor="let s of nextSpeedOptions" [ngClass]="{checked: nextSpeed === s}" (click)="nextSpeed = s">{{s}}</button>
                    </div>
                </td>
                <td>
                    <button *ngIf="canArmSpeedJoker()" class="silent" [ngClass]="{checked: isSpeedJokerArmed()}" (click)="armSpeedJoker()"><img src="assets/icons/dynamite.png"></button>
                    <span *ngIf="speedJokerNoFx"><img src="assets/icons/snail.png"></span>
                    <span *ngIf="speedJokerFailure"><img src="assets/icons/caution_high_voltage.png"></span>
                </td>
            </tr>
        </table>
        <button *ngIf="hasMaxAcceleration()" [disabled]="!canGo()" (click)="go()"><img src="assets/icons/arrow_up.png">Fahren<img src="assets/icons/arrow_up.png"></button>
    </div>
    <div class="page-footer">
        <div class="footer-item">
            <!-- <label><img src="assets/icons/gas.png">Tank</label><span>{{fuel}}</span> -->
        </div>
        <div class="footer-item">
            <label><img src="assets/icons/dashboard.png">Geschwindigkeit <b>{{speed}}</b></label>
        </div>
        <div class="footer-item">
            <label><img src="assets/icons/heart.png">Motor</label>
            <img *ngIf="motorHealth &gt; 4" src="assets/icons/temperature_cold.png">
            <img *ngIf="motorHealth === 4" src="assets/icons/temperature_cool.png">
            <img *ngIf="motorHealth === 3" src="assets/icons/temperature_normal.png">
            <img *ngIf="motorHealth === 2" src="assets/icons/temperature_warm.png">
            <img *ngIf="motorHealth === 1" src="assets/icons/temperature_hot.png">
            <img *ngIf="motorHealth &lt; 1" src="assets/icons/fire.png">
        </div>
        <div class="footer-item">
            <label><img src="assets/icons/tire.png">Reifen</label>
            <img *ngIf="tiresHealth &gt; 4" src="assets/icons/temperature_cold.png">
            <img *ngIf="tiresHealth === 4" src="assets/icons/temperature_cool.png">
            <img *ngIf="tiresHealth === 3" src="assets/icons/temperature_normal.png">
            <img *ngIf="tiresHealth === 2" src="assets/icons/temperature_warm.png">
            <img *ngIf="tiresHealth === 1" src="assets/icons/temperature_hot.png">
            <img *ngIf="tiresHealth &lt; 1" src="assets/icons/fire.png">
        </div>
    </div>
</div>
<app-dialog title="Curve">
    <h1>Kurve wählen</h1>
    <div class="btn-group">
        <button *ngFor="let c of curves" [ngClass]="{checked: currentCurve === c}" (click)="currentCurve = c">{{c}}</button>
    </div>
    <button [ngClass]="{checked: currentCurve === undefined}" (click)="currentCurve = undefined"><img src="assets/icons/arrow_up.png"></button>
</app-dialog>